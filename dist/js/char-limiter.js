class CharLimiter{element=null;options={};DEFAULTS={limit:100,messageColor:"red",warningAt:10};constructor(t,e={}){this.element=t,this.options={...this.DEFAULTS,...e},this.options.limit=parseInt(this.options.limit),e.warningAt||(this.options.warningAt=Math.ceil(.1*this.options.limit),this.options.warningAt<5&&(this.options.warningAt=5)),this.setup()}setup(){const t=document.querySelectorAll(".char-usage__count"),e=document.querySelectorAll(".char-usage"),o=document.querySelectorAll("[data-limit]");for(let e=0;e<o.length;e++)t[e].textContent=o[e].dataset.limit;this.handleKeyUp=s=>{let i="",l="",n=0;const r=this.element.value.length;for(let t=0;t<o.length;t++)o[t]===this.element&&(n=t);let a=this.options.limit-r;t[n].textContent=a,a<=this.options.warningAt?(e[n].style.color!=this.options.messageColor&&(i=e[n].style.color,e[n].style.color=this.options.messageColor),a<=0?(o[n].style.backgroundColor!=this.options.messageColor&&(l=o[n].style.backgroundColor,o[n].style.backgroundColor=this.options.messageColor),o[n].value=this.element.value.substring(0,this.options.limit),t[n].textContent=0):o[n].style.backgroundColor!=l&&(o[n].style.backgroundColor=l)):e[n].style.color!=i&&(e[n].style.color=i)},this.element.addEventListener("keyup",this.handleKeyUp)}}
//# sourceMappingURL=char-limiter.js.map