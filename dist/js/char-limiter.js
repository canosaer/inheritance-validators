class CharLimiter{element=null;options={};DEFAULTS={limit:100,messageColor:"red",warningAt:10};constructor(t,e={}){this.element=t,this.options={...this.DEFAULTS,...e},this.options.limit=parseInt(this.options.limit),e.warningAt||(this.options.warningAt=Math.ceil(.1*this.options.limit),this.options.warningAt<5&&(this.options.warningAt=5)),this.setup()}setup(){const t=document.querySelectorAll(".char-usage__count"),e=document.querySelectorAll(".char-usage"),i=document.querySelectorAll("[data-limit]");for(let e=0;e<i.length;e++)console.log(t[e]),t[e].textContent=i[e].dataset.limit;this.handleKeyUp=o=>{let s="",n=0;const l=this.element.value.length;for(let t=0;t<i.length;t++)i[t]===this.element&&(n=t);let r=this.options.limit-l;t[n].textContent=r,r<=this.options.warningAt?(e[n].style.color!=this.options.messageColor&&(s=e[n].style.color,e[n].style.color=this.options.messageColor),r<=0&&(i[n].value=this.element.value.substring(0,this.options.limit),t[n].textContent=0)):e[n].style.color!=s&&(e[n].style.color=s)},this.element.addEventListener("keyup",this.handleKeyUp)}}
//# sourceMappingURL=char-limiter.js.map